{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./nav.service\";\nexport class SearchService {\n  constructor(navServices) {\n    this.navServices = navServices;\n    this.text = \"\";\n    this.itemsData = [];\n    this.menuItems = [];\n    this.searchResult = false;\n    this.searchResultEmpty = false;\n    this.navServices.items.subscribe(menuItems => this.itemsData = menuItems);\n  }\n  searchTerm(term) {\n    term ? this.addFix() : this.removeFix();\n    if (!term) return this.menuItems = [];\n    let itemsData = [];\n    term = term.toLowerCase();\n    this.itemsData.forEach(data => {\n      if (!data?.title) return false;\n      if (data.title.toLowerCase().includes(term) && data.type === \"link\") {\n        itemsData.push(data);\n      }\n      if (!data.children) return false;\n      data.children.filter(subItems => {\n        if (subItems.title?.toLowerCase().includes(term) && subItems.type === \"link\") {\n          subItems.icon = data.icon;\n          itemsData.push(subItems);\n        }\n        if (!subItems.children) return false;\n        subItems.children.filter(suSubItems => {\n          if (suSubItems.title?.toLowerCase().includes(term)) {\n            suSubItems.icon = data.icon;\n            itemsData.push(suSubItems);\n          }\n        });\n        return;\n      });\n      this.checkSearchResultEmpty(itemsData);\n      this.menuItems = itemsData;\n      return;\n    });\n    return;\n  }\n  checkSearchResultEmpty(items) {\n    if (!items.length) this.searchResultEmpty = true;else this.searchResultEmpty = false;\n  }\n  addFix() {\n    this.searchResult = true;\n    document.body.classList.add(\"offcanvas\");\n  }\n  clickOutside() {\n    this.text = \"\";\n    this.searchResult = false;\n    this.searchResultEmpty = false;\n    document.body.classList.remove(\"offcanvas\");\n  }\n  removeFix() {\n    this.text = \"\";\n    this.searchResult = false;\n    document.body.classList.remove(\"offcanvas\");\n  }\n  static #_ = this.ɵfac = function SearchService_Factory(t) {\n    return new (t || SearchService)(i0.ɵɵinject(i1.NavService));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: SearchService,\n    factory: SearchService.ɵfac,\n    providedIn: \"root\"\n  });\n}","map":{"version":3,"names":["SearchService","constructor","navServices","text","itemsData","menuItems","searchResult","searchResultEmpty","items","subscribe","searchTerm","term","addFix","removeFix","toLowerCase","forEach","data","title","includes","type","push","children","filter","subItems","icon","suSubItems","checkSearchResultEmpty","length","document","body","classList","add","clickOutside","remove","_","i0","ɵɵinject","i1","NavService","_2","factory","ɵfac","providedIn"],"sources":["C:\\Repository\\Jupiter\\juno-app\\src\\app\\shared\\services\\search.service.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\nimport { Menu, NavService } from \"./nav.service\";\n\n@Injectable({\n  providedIn: \"root\",\n})\n\nexport class SearchService {\n\n  public text: string = \"\";\n  public itemsData: Menu[] = [];\n  public menuItems: Menu[] = [];\n  public searchResult: boolean = false;\n  public searchResultEmpty: boolean = false;\n\n  constructor(public navServices: NavService) {\n    this.navServices.items.subscribe(\n      (menuItems) => (this.itemsData = menuItems)\n    );\n  }\n\n  searchTerm(term: string) {\n    term ? this.addFix() : this.removeFix();\n    if (!term) return (this.menuItems = []);\n    let itemsData: Menu[] = [];\n    term = term.toLowerCase();\n    this.itemsData.forEach((data) => {\n      if (!data?.title) return false;\n      if (data.title.toLowerCase().includes(term) && data.type === \"link\") {\n        itemsData.push(data);\n      }\n      if (!data.children) return false;\n      data.children.filter((subItems: Menu) => {\n        if (\n          subItems.title?.toLowerCase().includes(term) &&\n          subItems.type === \"link\"\n        ) {\n          subItems.icon = data.icon;\n          itemsData.push(subItems);\n        }\n        if (!subItems.children) return false;\n        subItems.children.filter((suSubItems: Menu) => {\n          if (suSubItems.title?.toLowerCase().includes(term)) {\n            suSubItems.icon = data.icon;\n            itemsData.push(suSubItems);\n          }\n        });\n        return;\n      });\n      this.checkSearchResultEmpty(itemsData);\n      this.menuItems = itemsData;\n      return;\n    });\n    return;\n  }\n\n  checkSearchResultEmpty(items: Menu[]) {\n    if (!items.length) this.searchResultEmpty = true;\n    else this.searchResultEmpty = false;\n  }\n\n  addFix() {\n    this.searchResult = true;\n    document.body.classList.add(\"offcanvas\");\n  }\n\n  clickOutside(): void {\n    this.text = \"\";\n    this.searchResult = false;\n    this.searchResultEmpty = false;\n    document.body.classList.remove(\"offcanvas\");\n  }\n\n  removeFix() {\n    this.text = \"\";\n    this.searchResult = false;\n    document.body.classList.remove(\"offcanvas\");\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}